{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "HttpClient": [
    {
      "Name": "ChuckNorrisService",
      "RetryPolicyName": "ChuckNorrisServiceRetryPolicy"
    },
    {
      "Name": "System2",
      "RetryPolicyName": "System2RetryPolicy"
    }
  ],
  "RetryPolicySettings": [
    {
      "Name": "DefaultRetryPolicy",
      "Policy": {
        "Retry": {
          "MaxRetries": 5,
          "RetryType": "Constant",
          "RetryInterval": 2,
          "UseJitter": true
        },
        "FaultTolerancePolicy": {
          "Enabled": true,
          "FailureThreshold": 0.5,
          "BreakDurationSeconds": 30,
          "SamplingDurationSeconds": 60,
          "ResetCountOnSuccess": true,
          "TimeoutForHalfOpenSeconds": 10,
          "OpenCircuitForHttpCodes": [ 500, 503 ],
          "OpenCircuitForExceptions": [ "System.Net.Http.HttpRequestException" ]
        },
        "Timeout": {
          "TimeoutDuration": 3
        }
      }
    },
    {
      "Name": "ChuckNorrisServiceRetryPolicy",
      "Policy": {
        "Retry": {
          "MaxRetries": 3,
          "RetryType": "Exponential",
          "RetryInterval": 2
        },
        "FaultTolerancePolicy": {
          "FailureThreshold": 0.5,
          "BreakDurationSeconds": 30,
          "SamplingDurationSeconds": 60,
          "ResetCountOnSuccess": true,
          "TimeoutForHalfOpenSeconds": 10,
          "OpenCircuitForHttpCodes": [ 404, 500, 503 ],
          "OpenCircuitForExceptions": []
        }
      }
    },
    {
      "Name": "System2RetryPolicy",
      "Policy": {
        "Retry": {
          "MaxRetries": 5,
          "RetryType": "Constant",
          "RetryInterval": 2
        },
        "FaultTolerancePolicy": {
          "Enabled": true,
          "FailureThreshold": 0.5,
          "BreakDurationSeconds": 30,
          "SamplingDurationSeconds": 60,
          "OpenCircuitForHttpCodes": [],
          "OpenCircuitForExceptions": [ "System.TimeoutException" ]
        }
      }
    }
  ],
  "AllowedHosts": "*"
}
